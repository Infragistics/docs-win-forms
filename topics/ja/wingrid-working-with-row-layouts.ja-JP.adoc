////

|metadata|
{
    "name": "wingrid-working-with-row-layouts",
    "controlName": ["WinGrid"],
    "tags": ["Grids","How Do I","Layouts"],
    "guid": "{F8DA0D80-3F34-4844-8491-EF9F1ED7CEC6}",  
    "buildFlags": [],
    "createdOn": "2005-11-07T00:00:00Z"
}
|metadata|
////

= 行レイアウトの操作

行レイアウトは、アプリケーション内の WinGrid の外観を柔軟にデザインする手段を提供します。行レイアウトを使用すると、データを表示および入力するためのフォーム型の外観を作成できます。グリッドのスタイルには、一般的な行表示スタイルとカード ビュー スタイルの両方を使用できます。

== デザインタイムの行レイアウト エディタの使用

[start=1]
. UltraWinGrid をフォームに追加し、データ ソースにバインドします（このプロセスについて支援が必要な場合は、pick:[win-forms="link:wingrid-binding-wingrid-to-a-flat-data-source-clr2.html[「WinGrid をフラット データ ソースにバインドする」]"] またはpick:[win-forms="link:wingrid-binding-wingrid-to-a-hierarchical-data-source-clr2.html[「WinGrid を階層データ ソースにバインドする」]"] を参照してください）。

[NOTE]
====
*注:* Row Layout 機能はこの機能に関連した特定の制約があります。行レイアウトが有効になっているバンドで固定の列ヘッダ、列の入れ替え、または列の再配置を使用できません。したがって、デフォルトでは行レイアウトはすべてのバンドで無効です。
====

[start=2]
. グリッドを右クリックして、コンテキスト メニューから [UltraGrid デザイナ...] を選択するか、プロパティ シートの下側のペインにあるの [UltraGrid デザイナ...] のリンクをクリックします。[UltraGrid デザイナ] ダイアログが表示します。ダイアログの左側にあるツリーの [バンドおよび列の設定] 項目を展開します。ルート バンドがサブアイテムのひとつになります。この項目を展開し、プレファレンス設定に基づいて、階層的なデータ セットの場合には、ルート バンドの兄弟項目として、またはルート バンドの子項目としてリストされる子バンドが表示されます。
[start=3]
. 行レイアウトを作成したいバンドを展開します。[列の配置について] を選択します。ツリーの右側のパネルに、[行レイアウトの使用] と [グループとレベルの使用] の 2 つのラジオ オプションがあります。[行レイアウトの使用] を選択して、ラジオ グループの右にある [列の配置をデザインする] ボタンをクリックします。
[start=4]
. 行レイアウト デザイナが個別の形式で表示されます。行レイアウト デザイナの詳細は、「改良された行レイアウト デザイナの使用」を参照してください。

== レイアウトでセルを再配置

[start=1]
. 右側のパネルには、作業しているバンドのデータ フィールドとヘッダの表現が表示されます。この領域はインタラクティブです。レイアウトを作成するには、マウスを使用してパネルで要素を再配置します。

行のフィールドにいずれかの中をクリックして、他のフィールドにドラッグします。移動したら、フィールドがどのように配置されるかを示すために表示変更を確認します。赤い矢印が表示して、ドロップされたときにフィールドがどのように配置されるのかを指示します。希望の位置にフィールドをドロップします。フィールドとヘッダがそれに応じてそれぞれの位置を配置し直します。

== レイアウトでセルのサイズを変更

[start=1]
. フィールドのいずれかの端をクリックしてドラッグします。水平または垂直方向のいずれかにレイアウトのオブジェクトのサイズを変更できます。希望の幅と高さの両方またはいずれか一方にセルのサイズを変更します。

フィールドでの作業中、2 つの点に注意してください。ひとつは、空白の領域がレイアウトに開きます。フィールドをこれらの空白領域のドラッグすると、赤い矢印ではなく赤いアウトラインでドロップ ターゲットが示されます。

[start=2]
. 水平または垂直方向のいずれかに複数のセルにまたがるようにセルのサイズを変更するためには、セルのスパン設定を変更する必要があります。これを実行する方法は 2 とおりあります。

** キーボードで Ctrl キーを押して、セルの端のいずれかをクリックし、サイズを変更するためにドラッグします。Ctrl キーを押しながら、ビジュアル インタフェースを使用してセルのスパン設定を動的に変更できます。このアプローチは参照のためのツールチップに関係する SpanX および SpanY 設定を表示します。
** レイアウト領域でセルをクリックして、セルとヘッダを選択し、次に左にある [列設定] タブをクリックします。SpanX および SpanY プロパティを指定するまで、プロパティ グリッドを下にスクロールします。グリッドにプロパティの新しい値を直接入力できます。

最初に直観的ではなく SpanX プロパティおよび SpanY プロパティを探します。たとえば、これらのプロパティのデフォルト設定は 2 ですが、この設定によって実際に複数の列または行にまたがることにはならないようです。これらの設定は、行レイアウトがベースとする基本の仮想グリッドのコンテキストにだけ意味を持ちます。これらのプロパティの設定方法をより適切に理解するためです。

== データおよびラベルの相対的位置を変更する

[start=1]
. データ ラベルは、通常のレイアウトのセルの上およびカード ビュー レイアウトのセルの左に表示されるようにデフォルト設定されています。ラベルとセルが配置される方法に影響するいくつかの変更を作成できます。

ダイアログの左側の [列設定] タブをクリックし、プロパティ グリッドで pick:[win-forms="link:{ApiPlatform}win.ultrawingrid{ApiVersion}~infragistics.win.ultrawingrid.rowlayoutcolumninfo~labelposition.html[LabelPosition]"]  プロパティを指定します。このプロパティは一定の条件の下に限って適用されます。通常の行ビューでは、[バンド情報] タブで [ヘッダとセルを一緒に表示] ビュー オプションが選択されているときに限り LabelPosition が使用されます。カード ビューでは、"MergedLabels" または "Compressed" のいずれかのビュー オプションが選択されているときに LabelPosition が適用されます。その他すべての観光で、None または LabelsOnly に設定される場合を除きプロパティの設定は無視されます。 _None_  を選択すると列ヘッダが非表示になり、 _LabelsOnly_  を選択すると列のセルが非表示になります。

プロパティのドロップダウンをクリックして、使用可能なオプションのいずれかを選択して、現在選択されているセル/ラベルのペアの設定を変更します。セルの任意の端にラベルを配置できます。
[start=2]
. ラベルをデータに直接接続し続けるには、使用しているビュー スタイルに基づき以下のいずれかのアクションを実行します。

**  _通常ビュー_ を使用している場合、左側の [レイアウト デザイン] タブをクリックして[ 標準/カード ビュー] を展開し、次に [標準ビュー] を展開して [ヘッダとセルを一緒に表示] というラベルのボックスをチェックします。
**  _カード ビュー_ を使用している場合、左側の [レイアウト デザイン] タブをクリックして [標準/カードビュー] を展開し、次に [カード ビュー] を展開してドロップダウンから StandardLabels、Merged Labels、または Compressed オプションを選択します。これらのビュー設定はいずれも、データの近くにラベルを維持します。

== 行レイアウトの保存またはロード

[start=1]
. 行レイアウトはグリッドの DisplayLayout の一部として保存されます。ダイアログの [ロード/保存] タブを使用して、複数の行レイアウトをエレメントの DisplayLayout に保存します。
[start=2]
. ディスク上のファイルに行レイアウトを保存するには、グリッド全体のレイアウトを保存する必要があります。行レイアウト デザイナで [ロード/保存] タブをクリックして、[レイアウトの新規保存...] ボタンを選択します。これによってダイアログが表示してレイアウト キーの入力を求めます。キーを入力したら、[OK] ボタンをクリックすると、[ロード/保存] タブのドロップダウンに選択すべきオプションとしてレイアウトが表示されます。

== 行レイアウトのリセット

[start=1]
. [ロード/保存] タブで、[レイアウトのリセット] ボタンをクリックして行レイアウトをリセットします。メッセージ ボックスが表示して、リセットの確認を求めます。[はい] をクリックすると、デフォルトの行レイアウトに戻ります。

== スナップショット

[start=1]
. 以下のスナップショットは、行レイアウト機能を使用してデータを表すことができる方法をいくつか表示します。

** 従来のビューの行レイアウト。
** [ヘッダとセルを一緒に表示] オプションを使用した従来のビューの行レイアウト。

image::Images/WinGrid_Work_with_Row_Layouts_02.png[]

** StandardLabels カード スタイルを使用したカード ビューの行レイアウト。

image::Images/WinGrid_Work_with_Row_Layouts_03.png[]

** Compressed カード スタイルを使用したカード ビューの行レイアウト。

image::Images/WinGrid_Work_with_Row_Layouts_04.png[]