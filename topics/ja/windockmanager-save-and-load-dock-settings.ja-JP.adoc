////

|metadata|
{
    "name": "windockmanager-save-and-load-dock-settings",
    "controlName": ["WinDockManager"],
    "tags": ["Persistence"],
    "guid": "{E0C3B54B-D429-4A80-9CCE-50A2A52B93B0}",  
    "buildFlags": [],
    "createdOn": "2005-07-07T00:00:00Z"
}
|metadata|
////

= ドッキング設定の保存とロード

WinDockManager™ は、アプリケーション内のさまざまなウィンドウの位置とドッキング状態を保存して再ロードできます。これを利用して、ユーザーの個人設定を管理できます。

ドッキング設定をランタイムにロードするには次のコードを使用します。

*Visual Basic の場合:*

----
Private Sub btnLoad_Click(ByVal sender As Object, _
  ByVal e As System.EventArgs) Handles btnLoad.Click
        Me.UltraDockManager1.LoadFromXML("ultradocksettings.xml")
End Sub
----

*C# の場合：*

----
private void btnLoad_Click(object sender, EventArgs e)
{
        this.ultraDockManager1.LoadFromXML("ultradocksettings.xml");
}
----

ドッキング設定をランタイムに保存するには次のコードを使用します。

*Visual Basic の場合:*

----
Private Sub btnSave_Click(ByVal sender As Object, _
  ByVal e As System.EventArgs) Handles btnSave.Click
        Me.UltraDockManager1.SaveAsXML("ultradocksettings.xml")
End Sub
----

*C# の場合：*

----
private void btnSave_Click(object sender, EventArgs e)
{
        this.ultraDockManager1.SaveAsXML("ultradocksettings.xml");
}
----

*重要事項：*

* 非シリアル化の時に UltraDockManager がドックされたコントロールを適切に見つけられるために、ドックされたコントロールに *Name* プロパティを設定する必要があります。
* パネルが動的に作成されると、位置を保持するために、UltraDockManager のパネルに固有の名前を設定する必要があります。